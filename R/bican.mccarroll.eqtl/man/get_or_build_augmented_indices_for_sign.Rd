% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_filtering.R
\name{get_or_build_augmented_indices_for_sign}
\alias{get_or_build_augmented_indices_for_sign}
\title{Get or build augmented index tables for a sign test (with caching)}
\usage{
get_or_build_augmented_indices_for_sign(
  index_file,
  index_file_comparison,
  all_pairs_file,
  all_pairs_file_comparison,
  cache_dir,
  force = FALSE
)
}
\arguments{
\item{index_file}{Character scalar. Path to the baseline index file.}

\item{index_file_comparison}{Character scalar. Path to the comparison index file.}

\item{all_pairs_file}{Character scalar. Path to the baseline SNP/gene pairs file.}

\item{all_pairs_file_comparison}{Character scalar. Path to the comparison SNP/gene
pairs file.}

\item{cache_dir}{Character scalar. Directory where cached augmented index files
will be stored.}

\item{force}{Logical scalar. If \code{TRUE}, rebuild the augmented index tables
even if cached files exist. Default \code{FALSE}.}
}
\value{
A named list with elements:
\describe{
  \item{index_dt}{Baseline augmented index table.}
  \item{index_comparison_dt}{Comparison augmented index table.}
}
}
\description{
Loads cached "augmented" index tables for a sign test when available, or
rebuilds them from the provided baseline and comparison index files plus the
corresponding SNP/gene pair tables. Augmentation adds a cross-experiment slope
column (currently \code{slope_cross}) used by downstream sign-test logic.

The cache is keyed by the inputs via \code{build_sign_cache_paths()}, and is
written to \code{cache_dir}. Set \code{force = TRUE} to rebuild even if cached
files exist.
}
\details{
On a cache hit (and \code{force = FALSE}), this function reads the cached
augmented index files via \code{read_index_file()} and returns them. On a cache
miss (or \code{force = TRUE}), it reads the source files, computes cross slopes
via \code{add_cross_slopes_for_sign_test()}, writes the augmented index tables
to cache, and returns the augmented result.

The returned index tables are expected to include a \code{slope_cross} column.
}
