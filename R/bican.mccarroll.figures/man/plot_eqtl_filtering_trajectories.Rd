% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/de_eqtl_filtering_plots.R
\name{plot_eqtl_filtering_trajectories}
\alias{plot_eqtl_filtering_trajectories}
\title{Clustered trajectories of eGene yield across eQTL filtering levels}
\usage{
plot_eqtl_filtering_trajectories(
  data_dir =
    "/broad/bican_um1_mccarroll/RNAseq/analysis/CAP_freeze_3_analysis/eqtls/results",
  outDir =
    "/broad/bican_um1_mccarroll/RNAseq/analysis/CAP_freeze_3_analysis/figure_repository",
  filter_levels = c(0, 1, 2, 3, 4),
  fdr_threshold = 0.05,
  num_clusters = 4,
  cellTypeListFile =
    "/broad/bican_um1_mccarroll/RNAseq/analysis/CAP_freeze_3_analysis/differential_expression/metadata/cell_types_for_de_filtering_plot.txt",
  data_cache_dir =
    "/broad/bican_um1_mccarroll/RNAseq/analysis/CAP_freeze_3_analysis/figure_repository/data_cache"
)
}
\arguments{
\item{data_dir}{Directory containing per-level eQTL results used by
`bican.mccarroll.eqtl::compare_all_eQTL_runs()`.}

\item{outDir}{Output directory for the SVG. If `NULL`, no file is written.}

\item{filter_levels}{Integer vector of filtering levels to compare.}

\item{fdr_threshold}{FDR cutoff used when computing eGene yields.}

\item{num_clusters}{Number of clusters to use when grouping cell types by
trajectory.}

\item{cellTypeListFile}{Path to a one-column text file listing cell types to
include in the plot. Cell types not present in the data are reported via a
warning.}

\item{data_cache_dir}{Directory used to store and read cached intermediate
data for this figure.}
}
\value{
Returns `NULL` invisibly. This function is called for its side
  effects (plot generation and optional SVG export).
}
\description{
Generate a summary figure showing how eGene discovery
changes as increasingly stringent filtering is applied across multiple eQTL
runs. The function loads or computes a table of yields across filtering
levels, subsets to a configured set of cell types, clusters cell types by
their yield trajectories, then draws a faceted panel plot suitable for the
manuscript.
}
\details{
To avoid repeatedly recomputing the underlying summary data, this function
maintains a tab-delimited cache in `data_cache_dir`. When the cache file is
present, it is read and used directly. When missing, the function calls
`bican.mccarroll.eqtl::compare_all_eQTL_runs()` to regenerate the data and
writes the cache before plotting.

When `outDir` is not `NULL`, the figure is saved as
`eqtl_filtering_plot.svg` in `outDir`. When `outDir` is `NULL`, the plot is
constructed but not saved.
}
\seealso{
\code{\link[bican.mccarroll.eqtl]{compare_all_eQTL_runs}}
  \code{\link[bican.mccarroll.eqtl]{eqtl_cluster_filtering_trajectories}}

Other sample filtering figures: 
\code{\link{plot_de_filtering_examples}()},
\code{\link{plot_de_filtering_trajectories}()},
\code{\link{plot_eqtl_filtering_examples}()}
}
\concept{sample filtering figures}
