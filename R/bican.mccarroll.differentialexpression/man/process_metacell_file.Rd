% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/createDGEList.R
\name{process_metacell_file}
\alias{process_metacell_file}
\title{Process a Single Metacell Count Matrix}
\usage{
process_metacell_file(
  manifest_row,
  metacell_dir,
  cell_metadata,
  metadata_columns,
  split_id = TRUE
)
}
\arguments{
\item{manifest_row}{A single-row \code{data.frame} or \code{data.table} representing one row from the manifest.}

\item{metacell_dir}{Directory containing the \code{*.metacells.txt.gz} count matrix files.}

\item{cell_metadata}{A \code{data.frame} containing per-cell metadata used to extract donor-level annotations.}

\item{metadata_columns}{A character vector of column names to be pulled from \code{cell_metadata} for each donor.}

\item{split_id}{If the metacell column ID contains underscores, split on the first underscore to separate donor and village.
If set to false, assume the column is the donor ID and is not a composite key.}
}
\value{
A \code{DGEList} object with renamed sample columns and additional metadata in \code{dge$samples}.
}
\description{
Reads a single pseudobulk count matrix, renames its columns using donor, cell type, and region
information from the manifest, and adds donor-level metadata from a cell metadata table.
}
\details{
This function is intended for internal use in building a combined DGEList object from multiple files.
}
\keyword{internal}
