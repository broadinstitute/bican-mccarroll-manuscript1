% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/age_prediction_summary_stats.R
\name{plot_age_metric_heatmap}
\alias{plot_age_metric_heatmap}
\title{Heatmap for a single metric across cell_type x region}
\usage{
plot_age_metric_heatmap(
  metrics_df,
  metric,
  cell_type_col = "cell_type",
  region_col = "region",
  na_color = "grey90",
  add_text = TRUE,
  text_digits = 1,
  text_size = 3,
  text_threshold = NULL
)
}
\arguments{
\item{metrics_df}{Data.frame returned by `compute_age_error_metrics()`.}

\item{metric}{Character scalar giving the column name to plot (e.g. `"mae"`
or `"mae_young20"`).}

\item{cell_type_col}{Character scalar giving the column name in `metrics_df`
that contains cell type.}

\item{region_col}{Character scalar giving the column name in `metrics_df`
that contains region.}

\item{na_color}{Color used for missing tiles (passed as `na.value` to the
fill scale).}

\item{add_text}{Logical; if `TRUE`, overlay numeric values on tiles.}

\item{text_digits}{Integer number of digits after the decimal to display
when `add_text = TRUE`.}

\item{text_size}{Numeric text size for the overlay labels when
`add_text = TRUE`.}

\item{text_threshold}{Optional numeric threshold used to choose label text
color. Values less than or equal to this threshold use white text and
values greater than this threshold use black text. If `NULL`, a threshold
is computed from the data range.}
}
\value{
A ggplot object.
}
\description{
Creates a tile heatmap of one column from `metrics_df` (e.g. MAE) across
cell types (rows) and regions (columns). Optionally overlays formatted
values as text, with text color chosen for readability against the fill.
}
