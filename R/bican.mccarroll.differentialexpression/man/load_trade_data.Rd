% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/trade_analysis.R
\name{load_trade_data}
\alias{load_trade_data}
\title{Load and format differential expression results for TRADE}
\usage{
load_trade_data(
  data_path,
  contrast,
  gene_to_chr_path,
  cellTypeListFile = NULL,
  regions_use = NULL
)
}
\arguments{
\item{data_path}{Character scalar. Directory containing differential
expression results.}

\item{contrast}{Character scalar. Pattern identifying the contrast
(e.g. \code{"age"}, \code{"female_vs_male"}).}

\item{gene_to_chr_path}{Character scalar. Path to a two-column table
mapping genes to chromosomes.}

\item{cellTypeListFile}{Optional character scalar. Path to a file
containing one cell type per line. If \code{NULL}, all cell types
are used.}

\item{regions_use}{Optional character vector of region names to retain.
If \code{NULL}, no region filtering is applied.}
}
\value{
A \code{data.table} of formatted DE results suitable for TRADE.
}
\description{
This function loads differential expression results from a directory,
formats them for downstream TRADE analysis, and optionally filters by region.
The returned table is suitable for input to \code{run_trade()}.
}
\details{
Cell types may optionally be filtered upstream by providing a
\code{cellTypeListFile}, which is passed directly to
\code{bican.mccarroll.differentialexpression::parse_de_inputs}.

Region filtering is applied only when \code{regions_use} is non-\code{NULL}.
If all values of the \code{region} column are \code{NA} and \code{regions_use}
is non-\code{NULL}, this function errors, which usually indicates that a
regions-combined dataset was provided when region-resolved data was expected.
}
